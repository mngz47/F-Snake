<!DOCTYPE html>
<html>
<head>
<title>F Snake</title>
<link rel=stylesheet href=rr/style.css />
<link rel=stylesheet href=rr/bootstrap.min.css />
<link rel=stylesheet href=rr/mobstyle.css />
<link rel="icon" type="image/jpg" href="https://raw.githubusercontent.com/mngz47/productlists-resources/main/p_logo.jpg">

<meta name="autor" content="@mongezisibongakonke" />

</head>
<body background=images/dragon.jpg >
<script src=rr/api.js ></script>
<script src=rr/player.js ></script>
	<script src=rr/payfast.js ></script>
	<script src=rr/cookie.js ></script>
	<script src=rr/challenge.js ></script>
	<script src=rr/drag_n_drop.js ></script>
	<script src=rr/user_experience.js ></script>
	<script src=rr/f_snake_listener.js ></script>
	<script src=rr/f_snake_navigation.js ></script>
	<script src=rr/f_snake_detection.js ></script>
	<script src=rr/effects.js ></script>
	
<div id=start style="position: absolute;background-color:rgba(0,0,0,0.7);width:100%;height:100%;" >

	<div style="margin:auto;text-align:center;width:400px;margin-top:300px;padding:20px;" >
		<p>Avoid the obstacle and make it through the seven stages.</p>

		<!-- e('start').style.display='none'  -->
		
	<a href=# onclick="fall_effect();hideStart();start();return false;" class="btn fall" >Start</a>
	<a href=# onclick="showChallenge();toggle(e('challenge'));return false;" class="btn" >Challenge</a>
	<a href=# onclick="start();e('start').style.display='none';iniPlayer(null,0,2);return false;" class="btn" >Watch Player</a>

		<div id=challenge style="display:none;" ></div>

		<script>
async function hideStart(){
 e('start').style.display='none';
}
		
		</script>
		
	</div>
	
</div>	
	<iframe id=four_target src="https://mngz47.github.io/F-Snake/header.html" width="468" height="60" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>

<div style="width:600px;margin-left:auto;margin-right:auto;background:rgba(128,128,128,0.6);" >
<div style="width:600px;" >
<span style="font-size:3em;">Flower Snake</span>
<span id="speed"  style="font-size:1.7em;float:right;color:green;margin:7px;" ></span>
<span id="points"  style="font-size:1.7em;float:right;color:green;margin:7px;" ></span>
</div>

<div id="canvas" style="width:600px;height:400px;border: 3px solid blue;background:white;"  >
<img id="food" src=images/flower.jpg style="width:40px;border-radius: 25px;position:absolute;" />
 <!-- <span id="food" style="font-size:2.2em;position:absolute;" >O</span> -->
<span id="stacle" style="font-size:2.2em;position:absolute;" style="color:purple;" >X</span>
<span id="head" style="color:red;font-size:2.2em;position:absolute;left:400px;top:200px;" >F</span>
</div>
</div>

<div style="text-align:center;font-size:2.2em;">
 
  <table id=controls style="margin-left:auto;margin-right:auto;" >
      <tr><td></td><td></td><td><a href=# onclick="d='t';moves+=1;return false;"  >U</a></td><td></td></tr>
      <tr><td></td><td><a href=# onclick="d='l';moves+=1;return false;"  >L</a></td><td id="control-move" style="background-color:red;">O</td><td><a href=# onclick="d='r';moves+=1;return false;" >R</a></td></tr>
      <tr><td></td><td></td><td><a href=# onclick="d='b';moves+=1;return false;"  >D</a></td><td></td></tr>
    </table>
	<script>
	dragElement(document.getElementById("controls"));
	</script>
</div>
	<script src=rr/f_snake_features.js ></script>
<script>

var points = 0;

var d = "r";

var mode = "easy";

var stage = 1;
	
 timerId = setInterval(gameTimer,1000);
	
	var moves = 0;

f_listen();

var speed = 60;

var game_over = false;

async function start(){

while(!game_over){ //continuosly move the snake head so long as the game is not over

f_navigate();

f_detect();

show_body(e('head').offsetLeft,e('head').offsetTop); //renders the body of the snake

speed = Math.round((40 - 40 * (points*3)/15)); //increases speed of the snake as the points increase

// e('speed').innerHTML = 'SPEED:'+Math.round(7 * (points*3)/15);

await new Promise(r => setTimeout(r, speed));

}
}

//start();


/*

setInterval(function(){

},speed);

*/


//1000*(8-stage)

setInterval(placeStacle,1000*(8-stage));

</script>
	<!--
<div id=controls style="left:50px;top:0px;" >
<div id=control-move >Players</div>
	<a href=# onclick=toggle(e("players")); >toggle</a>
	<div id=players ></div>
	<script>
		showPlayers(e('players'));
		toggle(e("players"));
	</script>
</div>

<div id=controls style="left:100px;top:0px;" >
<div id=control-move >Strategy</div>
	<a href=# onclick=toggle(e("strategy")); >toggle</a>
	<div id=strategy ></div>
	<script>
		showStrategy(e('strategy'));
		toggle(e("strategy"));
	</script>
</div>
	
	<div id=controls style="top:0px;float:right;" >
<div id=control-move >Log</div>
	<a href=# onclick=toggle(e("log")); >toggle</a>
	<div id=log style="top:0px;float:right;background:black;" ></div>
	<script>
		toggle(e("log"));
	</script>
</div>
	 -->
	<link rel=stylesheet href=rr/f_snake_style.css />
	<link rel=stylesheet href=rr/drag_n_drop.css />
	<link rel=stylesheet href=rr/effects.css />

<audio controls id=theme  >
  <source src="sounds/snake_music.mp3" type="audio/mp3" loop="loop" >
  Your browser does not support the audio tag.
</audio>
<audio controls id=snake_death_sound  >
  <source src="sounds/f_snake_death.mp3" type="audio/mp3" >
  Your browser does not support the audio tag.
</audio>
	<script>
			checkChallenge();
			confirmChallenge();
		toggle(e('theme'));
		toggle(e('snake_death_sound'));
			playTheme();
	</script>
	
</body>
</html>
